<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, 
    initial-scale=1.0">
    <title>My Class Login - Lovely Professional University</title>
    <link rel="stylesheet" href="./css/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
</head>
<body>
    <div class="container">
        <div class="login__content">
            <img src="./img/logo.svg" alt="University Logo">
            <div class="login__content-text">
                <p class="text">
                <a href="login.html">MyClass</a> is a seamless learning environment which shall be very close to face to face classes that will also include added progress indicators.
                </p>
                <br>
                <p>Some  features of the platform are given as:</p>
                <ul>
                    <li>Regular online interaction with faculty as per scheduled timetable.</li>
                    <li>Ensures mastery and clarity of concepts for students by competent faculty.</li>
                    <li>Unlimited replays of course material shared with the students.</li>
                    <li>Well-crafted lecture schedule and regular online assessments/assignments.</li>
                </ul>
            </div>
        </div>
        <div class="login__form">
            <div class="form-header">
                <h3>Welcome to My Class</h3>
                <p>Use your ums cerdentials to login</p>
            </div>
            <form action="" method="POST">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="username" name="Username" id="username" autofocus>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" name="password" id="password" class="password">

                </div>
                <div class="form-group">
                    <label for="captcha">Captcha</label>
                    <input type="text" name="captcha" id="captcha">
                    
                </div>
                <div class="captacha">
                    <div class="captacha-box">
                        AXYDSW
                    </div>
                    <div class="change-btn">
                        <i class="fas fa-sync"></i>
                    </div>
                </div>
                
                <button type="submit" class="login__btn">
                    Sing In
                </button>
            </form>
        </div>
    </div>

    <script>
        const username = document.getElementById('username');
        const password = document.getElementById('password');
        const captcha = document.getElementById('captcha');
        const captchaText = document.querySelector('.captacha-box');
        const loginBtn = document.querySelector('.login__btn');
        const changeBtn = document.querySelector('.change-btn');

        const backgrounds = ['red','blue','cyan','green','yellow'];

        changeBtn.addEventListener('click',()=>{
            // captcha.
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            let newCaptcha = '';
            for(let i = 0; i<6; i++){
                newCaptcha += characters.charAt(Math.floor(Math.random()*characters.length));
            }
            captchaText.style.backgroundColor=backgrounds[Math.floor(Math.random()*backgrounds.length)];
            captchaText.innerHTML = newCaptcha;
        });

        loginBtn.addEventListener('click',(e)=>{
            e.preventDefault();
            let timeid;
            if(username.value===""){
                timeid = setInterval(timerFunction(username),500);
            }
            
            else if(password.value===""){
                timeid = setInterval(timerFunction(password), 500);
            }
            
            else if(captcha.value===""){
                timeid = setInterval(timerFunction(captcha), 500);
            }

            else if(captcha.value!=captchaText.innerText){
                // console.log(captcha.value,captchaText.innerText);
                timeid = setInterval(timerFunction(captcha), 500);
            }
            
            else{
                myStorage = window.localStorage;
                myStorage.setItem('Username',username.value);
                myStorage.setItem('Password',password.value);
                window.location.href="./landing.html";
            }
            clearInterval(timeid);
        });

        function timerFunction(element){
            alert(element.getAttribute('name')+" Is empty")
            element.focus();
        }
    </script>
</body>
</html>